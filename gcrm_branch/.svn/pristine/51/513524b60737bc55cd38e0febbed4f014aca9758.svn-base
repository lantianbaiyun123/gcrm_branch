define(["app"],function(e){e.registerFactory("BenchmarkPriceSubmitModal",["$modal","$timeout","$filter","Modal","BenchmarkPrice","STATIC_DIR",function(e,t,a,n,r,c){return{check:function(t,o,i,l){function _(e){for(var t=e||{},n=a("translate"),r=["","QUOTATION_CONFIRM_MAIN_MSG_TYPE_1","QUOTATION_CONFIRM_MAIN_MSG_TYPE_2","QUOTATION_CONFIRM_MAIN_MSG_TYPE_3","QUOTATION_CONFIRM_MAIN_MSG_TYPE_4"],c=t.length-1;c>=0;c--){var o=t[c].conflictType;t[c].msgMain=n(r[o],{newPeriods:t[c].newPeriods})}return t}var s={title:"RECORD_MODIFY_RECORD"};o=angular.extend(s,o),r.checkConflict(t).success(function(t){if(200===t.code)if(t.data&&t.data.length){o.modalDatas=_(t.data);var a=e.open({templateUrl:c+"app/benchmarkPrice/submitModal.tpl.html",controller:"CtrlModal",backdrop:"static",windowClass:"benchmark-price-submit-modal",resolve:{opts:function(){return o}}});a.result.then(function(e){"ok"===e&&i(),"back"===e&&l()})}else i();else{var r="["+t.code+"]"+t.message;n.alert({content:r})}})}}}])});