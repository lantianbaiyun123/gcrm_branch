define(["app"],function(a){a.registerDirective("ytMoreButtons",["$compile","$position","$parse","$log","$timeout",function(a,b,c,d,e){return{restrict:"A",scope:{ytPopoverOk:"&",ytPopoverCancel:"&",ytMoreButtons:"=",ytMoreButtonsShow:"="},link:function(c,f){function g(){k=angular.element("<div yt-popover-wrap></div>"),l=a(k)(j),f.after(l),j.isOpen=!0,e(i),j.buttons=c.ytMoreButtons.queryButtons}function h(){l.remove(),j.isOpen=!1}function i(){j.position=b.position(f),j.position.top=f[0].offsetTop-l.height()-12,j.position.left=f[0].offsetLeft-l.width()/2}d.info(c.ytMoreButtons);var j=(f[0],c.$new());j.placement="top",j.title="TOTAL_DAYS_ALERT",f.bind("click",function(){e(j.isOpen?h:g)});var k,l;j.btnClick=function(){},j.ok=function(){j.isOpen=!1,j.ytPopoverOk(),e(h)},j.cancel=function(){j.isOpen=!1,j.ytPopoverCancel(),e(h)},c.$on("$destroy",function(){f.unbind("click")})}}}]),a.registerDirective("ytPopoverWrap",function(){return{restrict:"EA",replace:!0,templateUrl:"app/_directives/ytMoreButtons.tpl.html",link:function(a,b){b.bind("click",function(a){a.preventDefault(),a.stopPropagation()})}}})});