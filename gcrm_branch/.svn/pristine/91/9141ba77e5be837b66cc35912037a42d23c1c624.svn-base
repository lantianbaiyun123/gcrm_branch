define(["app","./ServiceRecordHttp"],function(e){e.registerFactory("PubApplyApprovalRecord",["$modal","$q","$filter","Modal","RecordHttp","STATIC_DIR",function(e,r,o,t,a,l){var p={title:"RECORD_APPROVAL_RECORD"};return{show:function(o){var n=r.defer();return o=angular.extend(p,o),o.applyId&&a.pubApplyApproval({applyId:o.applyId}).success(function(r){if(200===r.code){o.modalDatas=r.data;var a=e.open({templateUrl:l+"app/record/approvalRecordModal.tpl.html",controller:"CtrlModal",windowClass:"approval-record-modal",resolve:{opts:function(){return o}}});a.result.then(function(e){n.resolve(e)})}else if(r.code>204){var p="["+r.code+"]"+r.message;t.alert({content:p})}}),n.promise}}}])});