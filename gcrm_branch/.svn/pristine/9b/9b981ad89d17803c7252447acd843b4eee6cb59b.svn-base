define(["app","../_services/http/Customer","../_filters/ApprovalResultFilter","../_filters/DatePeriodFilter"],function(e){e.registerFactory("CustomerApprovalRecord",["$modal","$timeout","$filter","$q","Modal","Customer","STATIC_DIR",function(e,r,t,o,a,l,n){var s={title:"RECORD_APPROVAL_RECORD"};return{show:function(r,t,o){t=angular.extend(s,t);var c=function(r){if(200===r.code){t.modalDatas=r.data;var l=e.open({templateUrl:n+"app/record/approvalRecordModal.tpl.html",controller:"CtrlModal",windowClass:"approval-record-modal",resolve:{opts:function(){return t}}});l.result.then(function(e){"ok"===e&&o()})}else{var s="["+r.code+"]"+r.message;a.alert({content:s})}};r&&l.approvalRecord({customerId:r}).success(c)}}}])});