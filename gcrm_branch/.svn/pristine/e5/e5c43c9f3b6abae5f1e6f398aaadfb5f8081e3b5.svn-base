define(["app"],function(t){t.registerFactory("Country",["$http","$filter","APP_CONTEXT",function(t,e,n){function r(e){return t({method:"get",url:n+"customer/countrySuggest",params:e})}return{getSuggest:function(t){return{id:function(t){return t.id},placeholder:e("translate")("SELECTTOSUGGEST_BELONGING_COUNTRY"),minimumInputLength:1,formatInputTooShort:function(t,n){return e("translate")("SELECTTOSUGGEST_PLACEINPUT")+n+e("translate")("SELECTTOSUGGEST_CHARACTERS")},query:function(t){var e={results:[]};r({query:$.trim(t.term)}).success(function(n){if(n.data.length){e.results=n.data;for(var r=e.results.length-1;r>=0;r--)e.results[r].i18nName=e.results[r].name}t.callback(e)})},formatNoMatches:function(){return e("translate")("SELECTTOSUGGEST_NO_COUNTRY")},formatResult:function(t){return t.i18nName},formatSelection:function(e){return t&&t.formatSelectionCallback&&t.formatSelectionCallback(e),e.i18nName},width:"element",initSelection:function(e,n){t&&t.initSelectionCallback&&t.initSelectionCallback(e,n)},allowClear:function(){return t&&t.allowClear?t.allowClear:!0}}}}}])});