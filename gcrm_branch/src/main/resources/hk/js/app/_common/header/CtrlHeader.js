define(["app","../../_services/http/Task"],function(a){a.registerController("CtrlHeader",["$scope","$rootScope","$state","$filter","PageSet","Task","Modal",function(a,t,e,o,s,c,i){function r(){var a="task.facade.noTask",o={},s=t.myFirstTask;s&&s.subtype in n&&(a=n[s.subtype],o[s.foreignName]=s.foreignKey,o.activityId=s.activityId,o.processId=s.processId),e.go(a,o)}t.activeIndex=-1,t.breadcrumb=[],s.setHeadNavs();var n={approval:"task.facade.approval",schedule:"task.facade.schedule",quote:"task.facade.benchmarkPriceApproval",material:"task.facade.materialApproval",customer:"task.facade.customerApproval"};t.myTaskCount=t.myTaskCount||0,c.toDoCount({}).success(function(a){a.data.count&&(t.myTaskCount=a.data.count,t.myFirstTask=a.data.firstAct)}),a.goFirstMyTask=function(){r()},a.changePsw=function(){var a=o("translate")("CHANGE_PSW_ALERT")+'<div class="mt5"><a href="mailto:"gongyao@baidu.com">gongyao@baidu.com</a>, <a href="mailto:liuxiao06@baidu.com">liuxiao06@baidu.com</a></div>';i.alert({content:a,ngClass:"modal-lg"})}}])});