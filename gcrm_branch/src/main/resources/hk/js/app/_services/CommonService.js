define(["app"],function(t){t.registerFactory("Utils",["$http",function(){return{joinWithKey:function(t,e,n){if(!t||0===t.length)return"";for(var r=[],a=0;a<t.length;a++)r.push(t[a][e]);return r.join(n||",")},substrByByte:function(t,e){return(t+"").substr(0,e).replace(/([^\x00-\xff])/g," $1").substr(0,e).replace(/ ([^\x00-\xff])/g,"$1")},isLengthOverflow:function(t,e){return(t+"").replace(/([^\x00-\xff])/g,"aa").length>e?!0:!1},isLengthShort:function(t,e){return(t+"").replace(/([^\x00-\xff])/g,"aa").length<e?!0:!1},containSpecialCharactor:function(t,e){var n=new RegExp("[`~!@$^&*()=|{}':;',\\[\\].<>/?~！@￥……&*（）——|{}【】‘；：”“'。，、？]");return e&&(n=new RegExp("[`~!@$^&*=|{}':;',<>/?~！@￥……&*——|{}‘；：”“'。，、？]")),n.test(t)},getDateString:function(t){var e=t||new Date,n=e.getFullYear(),r=e.getMonth()+1,a=e.getDate();r=10>r?"0"+r:r,a=10>a?"0"+a:a;var o=n+"-"+r+"-"+a;return o},getDateTimeString:function(t){var e=t||new Date,n=this.getDateString(e),r=e.getHours(),a=e.getMinutes(),o=e.getSeconds();r=10>r?"0"+r:r,a=10>a?"0"+a:a,o=10>o?"0"+o:o;var u=n+" "+r+":"+a+":"+o;return u},toBoolean:function(t){if("function"==typeof t)t=!0;else if(t&&0!==t.length){var e=(""+t).toLowerCase();t=!("f"==e||"0"==e||"false"==e||"no"==e||"n"==e||"[]"==e)}else t=!1;return t},urlValidator:function(t){var e=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/;return e.test(t)},getTodayZero:function(){var t=new Date;return new Date(t.getFullYear(),t.getMonth(),t.getDate())}}}])});