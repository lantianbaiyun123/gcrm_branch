define(["app"],function(t){t.registerFactory("PageSet",["$rootScope","$filter","CMS_HOME_URL",function(t,e,_){function n(e,_){for(var n={},i=0;i<e.length;i++)n[e[i]]=!0;for(var a=0;a<_.length;a++)n[_[a]]=!0;t.BtnIndex=n}function i(e){if(!e)return-1;for(var _=0;_<t.headNavs.length;_++)if(t.headNavs[_].btnIndex===e)return _;return-1}var a=e("translate"),s={home:{text:a("PAGE_HOME"),url:"#/home"},task:{text:a("HEAD_TASK"),parent:"menu_todo"},customer:{text:a("HEAD_CUSTOMER"),parent:"menu_cust"},customerList:{btnIndex:"menu_cust_list",text:a("PAGE_CUSTOMER_LIST"),url:"#/customer/list",parent:"menu_cust"},customerAdd:{btnIndex:"menu_cust_add",text:a("PAGE_CUSTOMER_ADD"),parent:"menu_cust"},customerDetail:{btnIndex:"menu_cust_detail",text:a("PAGE_CUSTOMER_DETAIL"),parent:"menu_cust"},sale:{text:a("HEAD_SELL"),parent:"menu_sales"},adSolutionAdd:{text:a("PAGE_AD_SOLUTION_ADD"),url:"#/ad",parent:"menu_sales"},adSolutionList:{btnIndex:"menu_adsol_list",text:a("PAGE_AD_SOLUTION_LIST"),url:"#/adSolutionList",parent:"menu_sales"},adSolutionDetail:{text:a("PAGE_AD_SOLUTION_DETAIL"),parent:"menu_sales"},adContentDetail:{text:a("PAGE_AD_CONTENT_DETAIL"),parent:"menu_sales"},benchmarkPriceList:{btnIndex:"menu_quotprice_list",text:a("PAGE_BENCHMARK_PRICE_LIST"),url:"#/benchmarkPriceManagement/list",parent:"menu_sales"},benchmarkPriceAdd:{text:a("PAGE_BENCHMARK_PRICE_ADD"),url:"#/benchmarkPriceManagement/add",parent:"menu_sales"},benchmarkPriceDetail:{text:a("PAGE_BENCHMARK_PRICE_DETAIL"),parent:"menu_sales"},benchmarkPriceCurrent:{text:a("PAGE_BENCHMARK_PRICE_CURRENT"),url:"#/benchmarkPriceManagement/current",parent:"menu_sales"},materialList:{btnIndex:"menu_mater_list",text:a("PAGE_MATERIAL_LIST"),url:"#/materialList",parent:"menu_sales"},materialDetail:{text:a("PAGE_MATERIAL_DETAIL"),url:"#/materialDetail",parent:"menu_sales"},platformList:{btnIndex:"menu_platform_list",text:a("PAGE_PLATFORM_LIST"),url:"#/platformList",parent:"menu_mater"},resource:{text:a("HEAD_RESOURCE")},resourcePositionMgmt:{btnIndex:"menu_pos_list",text:a("PAGE_RESOURCE_POSITION_MGMT"),url:"#/resourcePositionList",parent:"menu_mater"},resourcePositionList:{btnIndex:"menu_pos_list",text:a("PAGE_RESOURCE_POSITION_MGMT"),url:"#/resourcePositionList",parent:"menu_mater"},resourcePositionAdd:{text:a("PAGE_RESOURCE_POSITION_ADD"),url:"#/platformList",parent:"menu_mater"},scheduleList:{btnIndex:"menu_schedule_list",text:a("PAGE_AD_SCHEDULELIST"),url:"#/scheduleList",parent:"menu_mater"},scheduleDetail:{text:a("PAGE_AD_SCHEDULEDETAIL"),parent:"menu_mater"},publication:{text:a("HEAD_PUBLICATION"),parent:"menu_pub"},publicationMgmt:{btnIndex:"menu_pub_manage",text:a("PAGE_PUBLICATION_MGMT"),url:"#/publicationMgmt",parent:"menu_pub"},publicationMember:{text:a("PAGE_PUBLICATION_MEMBER"),url:"",parent:"menu_pub"},admin:{text:a("PAGE_ADMIN"),url:"",parent:"menu_sys"},adminUserList:{text:a("PAGE_ADMIN_USER_LIST"),btnIndex:"menu_sys",url:"#/adminUserList",parent:"menu_sys"}},r={home:[s.home],task:[s.home,s.task],customerList:[s.home,s.customer,s.customerList],customerAdd:[s.home,s.customer,s.customerList,s.customerAdd],customerDetail:[s.home,s.customer,s.customerList,s.customerDetail],adSolutionList:[s.home,s.sale,s.adSolutionList],adSolutionAdd:[s.home,s.sale,s.adSolutionList,s.adSolutionAdd],adSolutionDetail:[s.home,s.sale,s.adSolutionList,s.adSolutionDetail],adContentDetail:[s.home,s.sale,s.adSolutionList,s.adSolutionDetail,s.adContentDetail],benchmarkPriceList:[s.home,s.sale,s.benchmarkPriceList],benchmarkPriceAdd:[s.home,s.sale,s.benchmarkPriceList,s.benchmarkPriceAdd],benchmarkPriceDetail:[s.home,s.sale,s.benchmarkPriceList,s.benchmarkPriceDetail],benchmarkPriceCurrent:[s.home,s.sale,s.benchmarkPriceList,s.benchmarkPriceCurrent],materialList:[s.home,s.sale,s.materialList],materialDetail:[s.home,s.sale,s.materialList,s.materialDetail],platformList:[s.home,s.resource,s.platformList],resourcePositionList:[s.home,s.resource,s.resourcePositionMgmt],resourcePositionAdd:[s.home,s.resource,s.resourcePositionMgmt,s.resourcePositionAdd],scheduleList:[s.home,s.resource,s.scheduleList],scheduleDetail:[s.home,s.resource,s.scheduleList,s.scheduleDetail],publicationMgmt:[s.home,s.publication,s.publicationMgmt],publicationMember:[s.home,s.publication,s.publicationMgmt,s.publicationMember],adminUserList:[s.home,s.admin,s.adminUserList],fakeEnd:[]},u=[{text:"HEAD_CUSTOMER",sub:[s.customerList],btnIndex:"menu_cust"},{text:"HEAD_SELL",sub:[s.adSolutionList,s.benchmarkPriceList,s.materialList],btnIndex:"menu_sales"},{text:"HEAD_RESOURCE",sub:[s.platformList,s.resourcePositionMgmt,s.scheduleList],btnIndex:"menu_mater"},{text:"HEAD_CONTRACT",url:_,btnIndex:"menu_contract"},{text:"HEAD_PUBLICATION",sub:[s.publicationMgmt],btnIndex:"menu_pub"},{text:"HEAD_TASK",btnIndex:"menu_todo"},{text:"HEAD_SYSTEM",sub:[s.adminUserList],btnIndex:"menu_sys"}];return{set:function(e){t.breadcrumb=r[e.siteName];var _=s[e.siteName].parent;t.activeIndex=i(_)},setHeadNavs:function(){var e,_;window.GCRM&&window.GCRM.rights&&window.GCRM.rights.menuCodeList&&window.GCRM.rights.buttonCodeList&&window.GCRM.rights.menuCodeList.length&&window.GCRM.rights.buttonCodeList.length?(e=window.GCRM.rights.menuCodeList,_=window.GCRM.rights.buttonCodeList):(e=["menu_cust","menu_sales","menu_mater","menu_contract","menu_pub","menu_todo","menu_sys","menu_schedule_list","menu_cust_add","menu_cust_list","menu_cust_detail","menu_adsol_add","menu_adsol_list","menu_adsol_detail","menu_platform_list","menu_pos_add","menu_pos_list","menu_mater_list","menu_mater_detail","menu_quotprice_list","menu_quotprice_add","menu_quotprice_detail","menu_pub_manage","menu_idx_todo","menu_idx_recent_submit","menu_idx_opera","menu_idx_module_data"],_=["btn_adsol_list_add","btn_cust_list_view","btn_cust_list_create","btn_cust_list_query","btn_cust_list_cancel","btn_cust_list_withdraw","btn_cust_list_recover","btn_cust_list_account_add","btn_cust_list_sale_transfer","btn_cust_list_remind","btn_cust_detail_submit","btn_cust_detail_cancel","btn_cust_detail_remind","btn_cust_detail_adsol_create","btn_cust_detail_withdraw","btn_cust_detail_appr_record_view","btn_cust_detail_mod_record_view","btn_cust_detail_baseinfo_mod","btn_cust_detail_contact_mod","btn_cust_detail_busiopp_mod","btn_cust_detail_qualify","btn_cust_detail_account_mod","btn_cust_detail_recover","btn_adsol_list_detail_view","btn_adsol_list_exe_transfer","btn_adsol_list_sol_change","btn_adsol_list_remind","btn_adsol_list_cont_conf","btn_adsol_detail_cont_conf","btn_adsol_detail_cont_mod","btn_adsol_detail_coop_term","btn_adsol_detail_reschedule","btn_adsol_detail_po_create","btn_adsol_detail_submit_to_busi","btn_adsol_detail_cont_change","btn_adsol_detail_adsol_change","btn_adsol_detail_adsol_mod","btn_adsol_detail_contract_change","btn_adsol_detail_contract_withdraw","btn_platform_list_add","btn_platform_list_mod","btn_platform_list_close","btn_pos_list_import","btn_pos_list_add","btn_pos_list_name_mod","btn_pos_list_property_add","btn_pos_list_launch_mod","btn_pos_list_image_mod_add","btn_pos_list_enable_disable","btn_pos_list_property_view","btn_pos_list_launch_view","btn_pos_list_image_view","btn_mater_detail_change_add","btn_mater_detail_mod","btn_mater_detail_cancel_recover","btn_quotprice_list_add","btn_quotprice_list_view","btn_quotprice_list_withdraw","btn_quotprice_list_cancel_recover","btn_quotprice_list_current","btn_quotprice_detail_withdraw","btn_quotprice_detail_cancel_recover","btn_pub_manage_user_config","btn_pub_manage_launch_term","btn_pub_manage_mater_publish","btn_pub_manage_publish","btn_pub_manage_offline","btn_pub_manage_force_publish","btn_idx_todo_handle","btn_idx_recent_submit_cust","btn_idx_recent_submit_cust_adsol","btn_idx_recent_submit_cust_quotprice","btn_idx_recent_submit_cust_mater","btn_idx_opera_cust","btn_idx_opera_adsol_contract","btn_idx_opera_pos_occupy","btn_quotprice_list_remind","btn_schedule_list_query","btn_schedule_detail_view","btn_adsol_detail_cont_save","btn_adsol_detail_submit","btn_mater_detail_withdraw"]);var i,a,s,r,o,l=[];for(i=0;i<u.length;i++)if(-1!==e.indexOf(u[i].btnIndex)){for(s={text:u[i].text},o=[],r=u[i],a=0;r.sub&&a<r.sub.length;a++)-1!==e.indexOf(r.sub[a].btnIndex)&&o.push(r.sub[a]);s.sub=o,s.btnIndex=u[i].btnIndex,u[i].url&&(s.url=u[i].url),l.push(s)}t.headNavs=l,n(_,e)},pageSet:function(t,e){Angular.extend(this.pages[t],e)}}}])});