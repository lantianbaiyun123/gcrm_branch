define(["app","routeDefs","app-http-interceptor","./_common/ytCommon"],function(e){e.config(["$translateProvider","APP_CONTEXT","TRANSLATION_CN","TRANSLATION_EN",function(e,t,a,o){e.translations("zh-CN",a),e.translations("en-US",o);var n=window.navigator.language||window.navigator.browserLanguage;"zh-CN"!==n&&(n="en-US"),e.preferredLanguage(n),e.useLocalStorage()}]),e.config(["routeDefsProvider","$httpProvider",function(e,t){t.defaults.headers.post={"Content-Type":"application/json; charset=UTF-8","X-Requested-With":"XMLHttpRequest"},t.defaults.headers.put={"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","X-Requested-With":"XMLHttpRequest"},t.defaults.headers.get=t.defaults.headers.get||{},t.defaults.headers.get["X-Requested-With"]="XMLHttpRequest",t.defaults.headers.get["Cache-Control"]="no-cache"}]),e.run(["$couchPotato","$state","$stateParams","$rootScope",function(t,a,o,n){e.lazy=t,n.$state=a,n.$stateParams=o}]),e.controller("CtrlApp",["$scope","$http","$rootScope","$timeout","$translate","$location","$anchorScroll","$document","APP_CONTEXT","$cookieStore","$window","CURRENT_USER_NAME","$q",function(e,t,a,o,n,r,c,u,s,g,i,l,h){function p(e,t,a){var o=new Date;o.setDate(o.getDate()+a),document.cookie=e+"="+escape(t)+(null==a?"":";expires="+o.toGMTString())+";path=/"}a.CURRENT_USER_NAME=l;var d="NG_TRANSLATE_LANG_KEY",f=i.navigator.language||i.navigator.browserLanguage;"zh-CN"!==f&&(f="en-US"),e.currLanguage=i&&null!==i.localStorage?i.localStorage.getItem(d)||f:g.get(d)||f,a.lang=e.currLanguage,e.currLanguage="LANG_CODE_"+e.currLanguage,e.changeLanguage=function(e){p("GCRM_LANG",e.replace(/-/g,"_"),3650),h.all([n.use(e),t.get(s+"switchLang?lang="+e.replace(/-/g,"_"))]).then(function(e){e&&i.location.reload()})},e.gotoPanel=function(e){r.hash(e),c()},e.anchorTo=function(e){r.hash(e),c()}}])});