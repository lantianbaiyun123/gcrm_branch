define(["app","./AddAccountModal","../_directives/ytPopoverConfirm"],function(t){t.registerController("CtrlCustomerAccountList",["$scope","$stateParams","$filter","Customer","AddAccountModal","Modal",function(t,c,e,o,u,n){function s(){o.queryAccountList({customerNumber:t.basic.customerNumber}).success(function(c){200===c.code&&(t.accountList={list:c.data})})}var a=e("translate");t.$on("queryAccountList",s),t.addAccount=function(){var c={customerId:t.customerApplyInfo.customerId,companyName:t.basic.companyName,customerNumber:t.customerApplyInfo.customerNumber};u.show({accountData:c}).then(function(t){t&&200===t.code&&n.success({content:a("SUCCESS_ACCOUNT_ADD"),timeOut:3e3}),s()})},t.editAccount=function(c){o.getAccountDetail({accountId:c.accountId}).success(function(c){if(200===c.code){var o=c.data,a={customerId:t.basic.customerId,companyName:o.customerName,customerNumber:o.customerNumber,accountId:o.accountId,verCode:o.verifyCode,email:o.email,verifiedStatus:o.status};u.show({accountData:a}).then(function(t){200===t.code&&(s(),n.success({content:e("translate")("SUCCESS_ACCOUNT_ADD"),timeOut:3e3}))})}})},t.removeAccount=function(t){o.removeAccount({accountId:t}).success(function(t){200===t.code&&(s(),n.success({content:e("translate")("SUCCESS_ACCOUNT_REMOVE"),timeOut:3e3}))})},t.updateAccount=function(t){o.updateAccount({accountId:t.accountId,status:t.status}).success(function(c){200===c.code&&(s(),n.success({content:e("translate")("SUCCESS_ACCOUNT_"+t.status),timeOut:3e3}))})}}])});