define(["app","../../_services/http/Customer"],function(a){a.registerFactory("AddAccountModal",["$modal",function(a){return{show:function(b,c){var d={},e=a.open({templateUrl:"app/customer/list/addAccountModal.tpl.html",controller:"CtrlAddAccount",windowClass:"sales-transfer-modal",backdrop:"static",resolve:{opts:function(){return angular.extend(d,b)}}});e.result.then(function(a){"ok"===a.btnType&&c(a.response)})}}}]),a.registerController("CtrlAddAccount",["$scope","$log","$modalInstance","$filter","$q","Utils","Customer","opts",function(a,b,c,d,e,f,g,h){function i(){return b.info(a.customerData),!!a.customerData.newSales.id}function j(){var b={};return b.customerId=a.customerId,b.salesId=a.customerData.newSales.id,b}a.title=h.title,a.customerData=h.customerData,a.salesSelect2=g.getBelongSalesSuggestOption(),a.cancel=function(){c.dismiss("cancel")},a.ok=function(){if(a.submitDisabled=!0,i()){var b=j(),d=g.salesTransfer(b);d.success(function(a){200===a.code&&c.close({btnType:"ok",response:a})}),d["finally"](function(){a.submitDisabled=!1})}else a.submitDisabled=!1}}])});