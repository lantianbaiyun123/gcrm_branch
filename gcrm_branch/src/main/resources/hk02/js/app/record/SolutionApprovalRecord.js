define(["app","../_filters/ApprovalResultFilter","../_filters/DatePeriodFilter"],function(o){o.registerFactory("SolutionApprovalRecord",["$modal","$timeout","$filter","AdProgram","$q","STATIC_DIR",function(o,t,e,r,a,n){var l={title:"RECORD_APPROVAL_RECORD"};return{show:function(t,e,a,d){a=angular.extend(l,a);var i=function(t){if(200===t.code){a.modalDatas=t.data,angular.forEach(a.modalDatas,function(o){r.approvalInsertRecordGet({id:o.id},function(t){200===t.code&&(o.insertRecords=t.data,o.insertShow=!1)})});var e=o.open({templateUrl:n+"app/record/solutionApprovalRecordModal.tpl.html",controller:"CtrlModal",windowClass:"solution-approval-record",resolve:{opts:function(){return a}}});e.result.then(function(o){"ok"===o&&d()})}else{var l="["+t.code+"]"+t.message;Modal.alert({content:l})}};e?r.approvalRecordGetByContentId({id:e}).success(i):r.approvalRecordGet({id:t},i)},forContent:function(t,e){e=angular.extend(l,e),r.getApprovalRecordForContent({id:t}).success(function(t){e.modalDatas=t.data,angular.forEach(e.modalDatas,function(o){r.approvalInsertRecordGet({id:o.id},function(t){200===t.code&&(o.insertRecords=t.data,o.insertShow=!1)})});var a=o.open({templateUrl:n+"app/record/solutionApprovalRecordModal.tpl.html",controller:"CtrlModal",windowClass:e.windowClass,resolve:{opts:function(){return e}}});a.result.then(function(o){"ok"===o&&cbfn()})})}}}])});