<div class="panel panel-default gcrm-panel">
  <div class="panel-top-heading">
    <h1>
      <span>{{'PAGE_HAO123TRACE' | translate}}</span>
    </h1>
  </div>
  <div class="panel-heading">
    <div class="panel-form panel-query">
      <div class="row main-row">
        <div class="col-md-2">
          <input type="text" class="form-control input-sm datepicker-readonly" ng-model="qForm.startDate" datepicker-popup readonly max="qForm.endDate || todayDate" datepicker-append-to-body="true" yt-placeholder="{{'START_DATE' | translate}}" ng-change="datesChange()">
        </div>
        <span class="pull-left time-dash">-</span>
        <div class="col-md-2">
          <input type="text" class="form-control input-sm datepicker-readonly" ng-model="qForm.endDate" datepicker-popup readonly min="qForm.startDate" max="todayDate" datepicker-append-to-body="true" yt-placeholder="{{'END_DATE' | translate}}" ng-change="datesChange()">
        </div>
        <div class="col-md-2">
          <div yt-input-dropdown="siteList" dropdown-selected="qForm.siteSelected" dropdown-type="i18n" please-text="{{'SITE_ALL' | translate}}" />
        </div>
        <div class="col-md-2">
          <div class="btn-group">
            <button class="btn btn-primary btn-sm" ng-click="query()">{{'BTN_QUERY' | translate}}</button>
            <button class="btn btn-default btn-sm" ng-click="exportList()" ng-disabled="!reportList.length">{{'EXPORT' | translate}}</button>
          </div>
        </div>
        <ul class="nav nav-pills col-md-4">
          <li ng-class="{'active': one.isActive}" ng-repeat="one in preset"><a ng-click="setDates($index)">{{'HAO123TRACE_PRESET_' + one.key | translate}}</a></li>
        </ul>
      </div>
    </div>
  </div>
  <div class="panel-body gcrm-list">
    <div class="alert alert-info" ng-if="!reportList.length">{{'NO_REPORT_DATA' | translate}}</div>
    <div ng-if="reportList">
      <table class="table table-bordered table-list table-hover">
        <thead>
          <tr>
            <th class="text-center" colspan="4">{{'ADVERTISEMENT_POSITION' | translate}}</th>
            <th class="text-center" colspan="3">{{'ADVERTISEMENT_INFO' | translate}}</th>
            <th class="text-center" colspan="2">{{'COOPERATION_MODEL' | translate}}</th>
            <th class="text-center" colspan="5">{{'PRODUCT_DATA' | translate}}</th>
          </tr>
          <tr>
            <th>{{'SITE' | translate}}</th>
            <th>{{'CHANNEL' | translate}}</th>
            <th>{{'AREA' | translate}}</th>
            <th>{{'POSITION' | translate}}</th>
            <!-- <th>{{'类型' | translate}}</th>
            <th>{{'编号' | translate}}</th> -->
            <th>{{'ADVERTISER' | translate}}</th>
            <!-- <th>{{'内容编号' | translate}}</th> -->
            <!-- <th>{{'内容描述' | translate}}</th> -->
            <!-- <th>{{'类型' | translate}}</th> -->
            <th>{{'ONLINE_TIME' | translate}}</th>
            <th>{{'OFFLINE_TIME' | translate}}</th>
            <th>{{'UNIT_PRICE' | translate}}($)</th>
            <th>{{'PATTERN' | translate}}</th>
            <th>{{'impressions' | translate}}</th>
            <!-- <th>{{'UV' | translate}}</th> -->
            <th>{{'Clicks' | translate}}</th>
            <!-- <th>{{'Click UV' | translate}}</th> -->
            <th>{{'CTR' | translate}}</th>
            <!-- <th>{{'CVR' | translate}}</th> -->
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat="record in reportList">
            <td class="td-max mw60" title="{{record.siteName}}">{{record.siteName}}</a></td>
            <td class="td-max mw60" title="{{record.channelName}}">{{record.channelName}}</td>
            <td class="td-max mw60" title="{{record.areaName}}">{{record.areaName}}</td>
            <td class="td-max mw60" title="{{record.positionName}}">{{record.positionName}}</td>
            <td class="td-max mw80" title="{{record.advertisers}}">{{record.advertisers}}</td>
            <td>{{record.acturalStart | date:'yyyy-MM-dd'}}</td>
            <td>{{record.acturalEnd | date:'yyyy-MM-dd'}}</td>
            <td>{{record.singlePrice}}</td>
            <td>{{record.billingModelName}}</td>
            <td>{{record.impressions}}</td>
            <!-- <td>{{record.uv}}</td> -->
            <td>{{record.clicks}}</td>
            <!-- <td>{{record.clickUV}}</td> -->
            <td>{{record.ctr}}</td>
          </tr>
        </tbody>
      </table>

      <div class="row page-row">
        <div class="pull-left">
          <div class="btn-group dropup">
            <button class="btn btn-default btn-sm dropdown-toggle" type="button" data-toggle="dropdown">
                {{pager.pageSize || 10}}&nbsp;&nbsp;<span class="caret"></span>
            </button>
            <ul class="dropdown-menu" role="menu">
              <li ng-repeat="item in pager.pageSizeSlots">
                <a  ng-click="setPageSize(item)">{{item}}</a>
              </li>
            </ul>
          </div>
          <span class="page-row-text" ng-if="true">
            {{ 'PAGINATION_TOTAL' | translate }}
            {{ pager.totalPages+" " || 0 }}
            {{ 'PAGINATION_PAGES' | translate }},
            {{ pager.totalCount+" " || 0 }}
            {{ 'PAGINATION_ROWS' | translate }}
          </span>
        </div>

        <div class="pull-right">
            <pagination direction-links="true" total-items="pager.totalCount" page="pager.pageNumber" class="pagination-sm" items-per-page="pager.pageSize" previous-text="&laquo;" next-text="&raquo;" rotate="false" max-size="10"></pagination>
        </div>
      </div>
    </div>
  </div>
</div>
